  <!-- Display the current avatar if it exists -->
  <% if user.avatar.attached? %>
    <div>
      <strong><%= t('users.form.current_avatar') %>:</strong><br>
      <%= image_tag user.avatar, size: "150x150" %>
    </div>

    <!-- Button to delete the avatar -->
    <div>
      <%= button_to t('users.form.delete_avatar'), delete_avatar_user_path(user), method: :delete, data: { confirm: t('users.form.confirm_delete_avatar') } %>
    </div>
  <% end %>

<%= form_with(model: user) do |form| %>
  <% if user.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(user.errors.count, t("errors.title")) %> <%= t("errors.prohibited", model: t("users.title")) %>:</h2>
      <ul>
        <% user.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :name, t('users.form.name'), style: "display: block" %>
    <%= form.text_field :name %>
  </div>

  <div>
    <%= form.label :email, t('users.form.email'), style: "display: block" %>
    <%= form.text_field :email %>
  </div>

  <div>
    <%= form.label :password, t('users.form.password'), style: "display: block" %>
    <%= form.password_field :password %>
  </div>

  <div>
    <%= form.label :password_confirmation, t('users.form.password_confirmation'), style: "display: block" %>
    <%= form.password_field :password_confirmation %>
  </div>


  <% if !user.avatar.attached? %>
    <div>
      <%= form.label :avatar, t('users.form.avatar') %>
      <%= form.file_field :avatar %>
  </div>
  <%end%>

  <div>
    <%= form.submit user.new_record? ? t('users.form.create_account') : t('users.form.update_account') %>
  </div>
<% end %>
